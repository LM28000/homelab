<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; background-color: #020617; }
        .glass { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); }
        .modal-overlay { background: rgba(2, 6, 23, 0.9); backdrop-filter: blur(8px); }
        .dragging { opacity: 0.4; transform: scale(0.98); }
        .drag-over { border-color: #3b82f6 !important; background: rgba(59, 130, 246, 0.1) !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        iframe { background: black; }
        pre { font-family: 'Fira Code', monospace; }
        .status-dot { width: 6px; height: 6px; border-radius: 50%; }
        .status-online { background: #10b981; box-shadow: 0 0 8px #10b981; }
        .status-offline { background: #ef4444; box-shadow: 0 0 8px #ef4444; }
        .status-checking { background: #f59e0b; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }
    </style>
</head>
<body class="text-slate-100 selection:bg-blue-500/30">
    <div id="root"></div>

    <!-- BLOC DE DONNÉES PERSISTANTES -->
    <script id="dashboard-data" type="application/json">
        {
    "categories": [
        {
            "id": "admin",
            "name": "Infrastructure",
            "icon": "shield-check"
        },
        {
            "id": "media",
            "name": "Médias",
            "icon": "film"
        },
        {
            "id": "downloads",
            "name": "Téléchargements",
            "icon": "download"
        },
        {
            "id": "monitoring",
            "name": "Monitoring",
            "icon": "activity"
        },
        {
            "id": "stockage",
            "name": "stockage",
            "icon": "folder"
        }
    ],
    "services": [
        {
            "id": "roundcube",
            "name": "Roundcube",
            "cat": "admin",
            "icon": "mail",
            "desc": "Webmail",
            "color": "bg-blue-500"
        },
        {
            "id": "budget",
            "name": "Actual Budget",
            "cat": "stockage",
            "icon": "settings",
            "desc": "Finance",
            "color": "bg-emerald-500"
        },
        {
            "id": "vault",
            "name": "Vaultwarden",
            "cat": "stockage",
            "icon": "lock",
            "desc": "Passwords",
            "color": "bg-indigo-600"
        },
        {
            "id": "nextcloud",
            "name": "Nextcloud",
            "cat": "stockage",
            "icon": "cloud",
            "desc": "Cloud Storage",
            "color": "bg-blue-600"
        },
        {
            "id": "portainer",
            "name": "Portainer",
            "cat": "admin",
            "icon": "container",
            "desc": "Docker",
            "color": "bg-sky-600"
        },
        {
            "id": "proxy",
            "name": "NPM",
            "cat": "admin",
            "icon": "shield",
            "desc": "Proxy",
            "color": "bg-zinc-700",
            "url": "https://proxy.du-cray.com/"
        },
        {
            "id": "louis-marie",
            "name": "Portfolio",
            "cat": "admin",
            "icon": "user",
            "desc": "Site Perso",
            "color": "bg-indigo-500"
        },
        {
            "id": "plex",
            "name": "Plex",
            "cat": "media",
            "icon": "film",
            "desc": "Streaming",
            "color": "bg-yellow-600"
        },
        {
            "id": "ombi",
            "name": "Overseerr",
            "cat": "media",
            "icon": "search",
            "desc": "Requests",
            "color": "bg-pink-600"
        },
        {
            "id": "tautulli",
            "name": "Tautulli",
            "cat": "media",
            "icon": "activity",
            "desc": "Stats",
            "color": "bg-orange-500"
        },
        {
            "id": "tdarr",
            "name": "Tdarr",
            "cat": "media",
            "icon": "refresh-cw",
            "desc": "Transcode",
            "color": "bg-green-600"
        },
        {
            "id": "wiklm",
            "name": "WikiLM",
            "cat": "stockage",
            "icon": "book-open",
            "desc": "Wiki",
            "color": "bg-slate-600"
        },
        {
            "id": "torrent",
            "name": "qBittorrent",
            "cat": "downloads",
            "icon": "download",
            "desc": "Torrents",
            "color": "bg-blue-700"
        },
        {
            "id": "radarr",
            "name": "Radarr",
            "cat": "media",
            "icon": "film",
            "desc": "Movies",
            "color": "bg-cyan-500"
        },
        {
            "id": "sonarr",
            "name": "Sonarr",
            "cat": "media",
            "icon": "film",
            "desc": "TV",
            "color": "bg-sky-500"
        },
        {
            "id": "bazarr",
            "name": "Bazarr",
            "cat": "media",
            "icon": "search",
            "desc": "Subs",
            "color": "bg-purple-500"
        },
        {
            "id": "prowlarr",
            "name": "Prowlarr",
            "cat": "downloads",
            "icon": "server",
            "desc": "Indexers",
            "color": "bg-red-500"
        },
        {
            "id": "grafana",
            "name": "Grafana",
            "cat": "monitoring",
            "icon": "activity",
            "desc": "Metrics",
            "color": "bg-orange-600"
        },
        {
            "id": "prometheus",
            "name": "Prometheus",
            "cat": "monitoring",
            "icon": "activity",
            "desc": "Data",
            "color": "bg-red-600"
        },
        {
            "id": "cadvisor",
            "name": "cAdvisor",
            "cat": "monitoring",
            "icon": "hard-drive",
            "desc": "Containers",
            "color": "bg-blue-400"
        },
        {
            "id": "serveur",
            "name": "IRMC",
            "cat": "admin",
            "icon": "package",
            "desc": "",
            "color": "bg-slate-500",
            "url": ""
        },
        {
            "id": "uptime",
            "name": "Uptime Kuma",
            "cat": "monitoring",
            "icon": "activity",
            "desc": "Status Monitor",
            "color": "bg-emerald-600"
        },
        {
            "id": "scrutiny",
            "name": "scrutiny",
            "cat": "monitoring",
            "icon": "package",
            "desc": "",
            "color": "bg-slate-500",
            "url": ""
        }
    ]
}
    </script>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;
        
        const BASE_DOMAIN = 'du-cray.eu';

        const Icon = ({ name, size = 18, className = "" }) => {
            useEffect(() => { if (window.lucide) window.lucide.createIcons(); }, [name]);
            return <i data-lucide={name} className={className} style={{ width: size, height: size }}></i>;
        };

        const App = () => {
            const searchRef = useRef(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [isModalOpen, setIsModalOpen] = useState(false);
            const [isCatModalOpen, setIsCatModalOpen] = useState(false);
            const [isTerminalOpen, setIsTerminalOpen] = useState(false);
            const [isSSHModalOpen, setIsSSHModalOpen] = useState(false);
            const [isEditMode, setIsEditMode] = useState(false);
            const [sshCommand, setSshCommand] = useState('');
            const [statuses, setStatuses] = useState({});
            
            const [editingId, setEditingId] = useState(null);
            const [editingCatId, setEditingCatId] = useState(null);
            const [draggedServiceId, setDraggedServiceId] = useState(null);
            const [dragOverId, setDragOverId] = useState(null);
            const [isSynced, setIsSynced] = useState(true);

            const loadInitialData = (key) => {
                const saved = localStorage.getItem(key);
                if (saved) return JSON.parse(saved);
                const dataElement = document.getElementById('dashboard-data');
                const initialData = JSON.parse(dataElement.textContent);
                return initialData[key.replace('dash_', '')];
            };

            const [categories, setCategories] = useState(() => loadInitialData('dash_categories'));
            const [services, setServices] = useState(() => loadInitialData('dash_services'));

            useEffect(() => { 
                localStorage.setItem('dash_categories', JSON.stringify(categories)); 
                checkSync();
            }, [categories]);

            useEffect(() => { 
                localStorage.setItem('dash_services', JSON.stringify(services)); 
                checkSync();
                services.forEach(s => checkHealth(s));
            }, [services]);

            const checkSync = () => {
                const dataElement = document.getElementById('dashboard-data');
                if (!dataElement) return;
                try {
                    const fileData = JSON.parse(dataElement.textContent);
                    const currentData = { categories, services };
                    setIsSynced(JSON.stringify(fileData) === JSON.stringify(currentData));
                } catch(e) { console.error(e); }
            };

            const checkHealth = async (service) => {
                const url = service.url || `https://${service.id}.${BASE_DOMAIN}`;
                setStatuses(prev => ({ ...prev, [service.id]: 'checking' }));
                
                try {
                    await fetch(url, { mode: 'no-cors', cache: 'no-cache' });
                    setStatuses(prev => ({ ...prev, [service.id]: 'online' }));
                } catch (e) {
                    setStatuses(prev => ({ ...prev, [service.id]: 'offline' }));
                }
            };

            const generateSSHCommand = async () => {
                try {
                    const response = await fetch(window.location.href);
                    let source = await response.text();
                    
                    const currentData = { categories, services };
                    const dataString = JSON.stringify(currentData, null, 4);
                    const dataRegex = /(<script\b[^>]*?id="dashboard-data"[^>]*?>)([\s\S]*?)(<\/script>)/i;
                    
                    if (dataRegex.test(source)) {
                        source = source.replace(dataRegex, `$1\n        ${dataString}\n    $3`);
                        const command = `cat << 'EOF' > /opt/homelab-dash/index.html\n${source}\nEOF`;
                        setSshCommand(command);
                        setIsSSHModalOpen(true);
                    }
                } catch (err) {
                    console.error("Failed to generate command", err);
                }
            };

            const copyToClipboard = () => {
                const el = document.createElement('textarea');
                el.value = sshCommand;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                setIsSynced(true);
            };

            useEffect(() => {
                const handleKey = (e) => { 
                    if (e.key === '/' && !isModalOpen && !isTerminalOpen) { 
                        e.preventDefault(); 
                        searchRef.current?.focus(); 
                    } 
                };
                window.addEventListener('keydown', handleKey);
                return () => window.removeEventListener('keydown', handleKey);
            }, [isModalOpen, isTerminalOpen]);

            const [formData, setFormData] = useState({ id: '', name: '', cat: 'admin', icon: 'package', desc: '', color: 'bg-slate-500', url: '' });
            const [catFormData, setCatFormData] = useState({ id: '', name: '', icon: 'folder' });

            const handleSaveService = (e) => {
                e.preventDefault();
                if (!formData.name || !formData.id) return;
                if (editingId !== null) setServices(services.map(s => s.id === editingId ? formData : s));
                else setServices([...services, formData]);
                setEditingId(null);
                setIsModalOpen(false);
            };

            const handleSaveCategory = (e) => {
                e.preventDefault();
                if (!catFormData.name || !catFormData.id) return;
                if (editingCatId !== null) setCategories(categories.map(c => c.id === editingCatId ? catFormData : c));
                else setCategories([...categories, catFormData]);
                setEditingCatId(null);
                setIsCatModalOpen(false);
            };

            const resetForm = () => { setFormData({ id: '', name: '', cat: 'admin', icon: 'package', desc: '', color: 'bg-slate-500', url: '' }); setEditingId(null); setIsModalOpen(false); };
            const resetCatForm = () => { setCatFormData({ id: '', name: '', icon: 'folder' }); setEditingCatId(null); setIsCatModalOpen(false); };
            
            return (
                <div className="min-h-screen p-4 md:p-8 lg:p-10 relative max-w-[1700px] mx-auto">
                    <header className="mb-10 flex flex-col lg:flex-row lg:items-center justify-between gap-6">
                        <div className="flex items-center gap-4">
                            <div className="p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-900/20">
                                <Icon name="terminal" className="text-white" size={24} />
                            </div>
                            <div className="flex flex-col">
                                <h1 className="text-3xl font-black tracking-tight uppercase italic text-white leading-none">Command Center</h1>
                                <div className="flex items-center gap-2 mt-2">
                                    <div className={`flex items-center gap-1.5 px-2 py-0.5 rounded-full border text-[8px] font-black uppercase tracking-widest ${isSynced ? 'bg-emerald-500/10 text-emerald-400 border-emerald-500/20' : 'bg-orange-500/10 text-orange-400 border-orange-500/20'}`}>
                                        <div className={`w-1 h-1 rounded-full ${isSynced ? 'bg-emerald-500' : 'bg-orange-500 animate-pulse'}`}></div>
                                        {isSynced ? 'Synchronisé' : 'Modifié localement'}
                                    </div>
                                    <p className="text-slate-500 text-[10px] font-bold uppercase tracking-widest">{BASE_DOMAIN}</p>
                                </div>
                            </div>
                        </div>

                        <div className="flex flex-wrap items-center gap-3">
                            <div className="relative">
                                <Icon name="search" size={16} className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-500" />
                                <input 
                                    ref={searchRef} type="text" placeholder="Filtre..."
                                    className="bg-slate-900 border border-slate-800 rounded-xl py-2.5 pl-9 pr-4 w-full md:w-40 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-xs font-medium text-white"
                                    value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)}
                                />
                            </div>
                            
                            <div className="flex items-center bg-slate-900/50 p-1 rounded-xl border border-slate-800">
                                <button 
                                    onClick={() => setIsEditMode(!isEditMode)} 
                                    className={`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all ${isEditMode ? 'bg-blue-600 text-white shadow-lg' : 'text-slate-500 hover:text-slate-300'}`}
                                >
                                    {isEditMode ? 'Unlock' : 'Lock'}
                                </button>
                            </div>

                            {isEditMode && (
                                <>
                                    <button onClick={generateSSHCommand} className="bg-emerald-600 hover:bg-emerald-500 text-white p-2.5 rounded-xl transition-all shadow-lg flex items-center gap-2 px-4 group">
                                        <Icon name="command" size={18} />
                                        <span className="text-[10px] font-black uppercase tracking-widest">Deploy</span>
                                    </button>
                                    <button onClick={() => setIsCatModalOpen(true)} className="bg-slate-900 hover:bg-slate-800 text-slate-400 p-2.5 rounded-xl border border-slate-800 transition-all">
                                        <Icon name="folder-cog" size={18} />
                                    </button>
                                    <button onClick={() => { resetForm(); setIsModalOpen(true); }} className="bg-blue-600 hover:bg-blue-500 text-white p-2.5 rounded-xl shadow-lg transition-all">
                                        <Icon name="plus" size={18} />
                                    </button>
                                </>
                            )}
                            <button onClick={() => setIsTerminalOpen(true)} className="bg-zinc-800 hover:bg-zinc-700 text-emerald-400 p-2.5 rounded-xl border border-zinc-700 shadow-lg transition-all" title="Terminal">
                                <Icon name="terminal" size={18} />
                            </button>
                        </div>
                    </header>

                    <main className="grid grid-cols-1 xl:grid-cols-2 gap-x-10 gap-y-12">
                        {categories.map(cat => {
                            const catServices = services.filter(s => s.cat === cat.id && s.name.toLowerCase().includes(searchTerm.toLowerCase()));
                            if (catServices.length === 0 && searchTerm) return null;
                            return (
                                <section key={cat.id} className="flex flex-col">
                                    <div className="flex items-center gap-3 mb-5 px-1">
                                        <div className="w-1 h-5 bg-blue-500 rounded-full"></div>
                                        <h2 className="text-xs font-black uppercase tracking-[0.2em] text-slate-400">{cat.name}</h2>
                                        <div className="flex-1 border-b border-slate-900 ml-4 opacity-30"></div>
                                    </div>
                                    <div className="grid grid-cols-1 sm:grid-cols-2 gap-3">
                                        {catServices.map(service => {
                                            const url = service.url || `https://${service.id}.${BASE_DOMAIN}`;
                                            const status = statuses[service.id] || 'checking';
                                            return (
                                                <div key={service.id} className="group relative flex items-center gap-4 bg-slate-900/40 border border-slate-800/50 p-3 rounded-2xl hover:border-blue-500/50 transition-all duration-300">
                                                    <div className={`p-2.5 rounded-xl ${service.color} text-white shadow-lg shrink-0 relative`}>
                                                        <Icon name={service.icon} size={20} />
                                                        <div className={`absolute -top-1 -right-1 status-dot border border-slate-950 status-${status}`}></div>
                                                    </div>
                                                    <div className="flex-1 min-w-0 pr-8">
                                                        <div className="flex items-center gap-2">
                                                            <h3 className="text-[11px] font-black uppercase tracking-tight text-white truncate mb-0.5">{service.name}</h3>
                                                            {status === 'offline' && <span className="text-[7px] text-red-500 font-black uppercase tracking-tighter">Timed Out</span>}
                                                        </div>
                                                        <p className="text-[9px] font-mono text-slate-600 truncate italic leading-none">{url.replace('https://','')}</p>
                                                    </div>
                                                    <div className="absolute right-3 flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                                        {isEditMode ? (
                                                            <>
                                                                <button onClick={() => { setFormData(service); setEditingId(service.id); setIsModalOpen(true); }} className="p-1.5 text-slate-500 hover:text-blue-400 bg-slate-950/50 rounded-lg"><Icon name="pencil" size={12} /></button>
                                                                <button onClick={() => { if(confirm('Kill?')) setServices(services.filter(s => s.id !== service.id)); }} className="p-1.5 text-slate-500 hover:text-red-500 bg-slate-950/50 rounded-lg"><Icon name="trash-2" size={12} /></button>
                                                            </>
                                                        ) : (
                                                            <button onClick={() => checkHealth(service)} className="p-1.5 text-slate-500 hover:text-blue-400 bg-slate-950/50 rounded-lg" title="Refresh Status"><Icon name="refresh-cw" size={12} /></button>
                                                        )}
                                                        <a href={url} target="_blank" className="p-1.5 text-slate-500 hover:text-blue-400 transition-colors"><Icon name="external-link" size={12} /></a>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </section>
                            );
                        })}
                    </main>

                    {/* MODALS */}
                    {isSSHModalOpen && (
                        <div className="fixed inset-0 z-[200] flex items-center justify-center p-4 modal-overlay">
                            <div className="bg-slate-900 border border-slate-800 w-full max-w-2xl p-8 rounded-[2rem] shadow-2xl flex flex-col gap-6">
                                <div className="flex justify-between items-center">
                                    <h2 className="text-xl font-black uppercase italic text-emerald-400">Deploying Update</h2>
                                    <button onClick={() => setIsSSHModalOpen(false)} className="text-slate-500 hover:text-white"><Icon name="x" size={24} /></button>
                                </div>
                                <div className="bg-black rounded-xl p-5 border border-slate-800 relative group">
                                    <pre className="text-[10px] text-emerald-500 overflow-x-auto whitespace-pre-wrap h-48 no-scrollbar">
                                        {sshCommand}
                                    </pre>
                                    <button onClick={copyToClipboard} className="absolute top-4 right-4 bg-emerald-600 hover:bg-emerald-500 text-white px-4 py-2 rounded-lg text-[9px] font-black uppercase transition-all shadow-xl">Copy Shell Command</button>
                                </div>
                                <p className="text-[9px] text-slate-500 font-bold uppercase tracking-widest text-center">Execute this via SSH to persist configuration.</p>
                            </div>
                        </div>
                    )}

                    {isTerminalOpen && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-8 modal-overlay">
                            <div className="bg-black border border-zinc-800 w-full h-full max-w-6xl flex flex-col rounded-none md:rounded-3xl shadow-2xl overflow-hidden">
                                <div className="bg-zinc-900 p-4 flex items-center justify-between border-b border-zinc-800 text-emerald-500 font-mono italic text-xs uppercase tracking-widest">
                                    <span>ssh root@{BASE_DOMAIN}</span>
                                    <button onClick={() => setIsTerminalOpen(false)} className="text-zinc-500 hover:text-white transition-colors"><Icon name="x" size={24} /></button>
                                </div>
                                <div className="flex-1 bg-black relative">
                                    <iframe src={`https://terminal.${BASE_DOMAIN}`} className="w-full h-full border-none" allow="clipboard-read; clipboard-write" />
                                </div>
                            </div>
                        </div>
                    )}

                    {isCatModalOpen && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay">
                            <div className="bg-slate-900 border border-slate-800 w-full max-w-lg p-8 rounded-[2rem] shadow-2xl flex flex-col max-h-[90vh]">
                                <div className="flex justify-between items-center mb-8">
                                    <h2 className="text-xl font-black uppercase italic text-blue-500">Infrastructure Sectors</h2>
                                    <button onClick={resetCatForm} className="text-slate-500 hover:text-white"><Icon name="x" size={24} /></button>
                                </div>
                                <form onSubmit={handleSaveCategory} className="mb-8 space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <input type="text" className="w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-xs font-bold text-white outline-none" placeholder="ID" value={catFormData.id} onChange={(e) => setCatFormData({...catFormData, id: e.target.value.toLowerCase()})} />
                                        <input type="text" className="w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-xs font-bold text-white outline-none" placeholder="Label" value={catFormData.name} onChange={(e) => setCatFormData({...catFormData, name: e.target.value})} />
                                    </div>
                                    <button type="submit" className="w-full bg-blue-600 py-4 text-white font-black uppercase text-[10px] rounded-xl shadow-lg">Commit Sector</button>
                                </form>
                                <div className="overflow-y-auto no-scrollbar space-y-2">
                                    {categories.map(cat => (
                                        <div key={cat.id} className="flex items-center justify-between p-4 bg-slate-950/50 border border-slate-800 rounded-2xl">
                                            <div className="flex items-center gap-4">
                                                <div className="text-blue-400"><Icon name={cat.icon || 'folder'} /></div>
                                                <div className="text-white text-[10px] font-black uppercase">{cat.name}</div>
                                            </div>
                                            <div className="flex gap-1">
                                                <button onClick={() => {setCatFormData(cat); setEditingCatId(cat.id);}} className="p-2 text-slate-500 hover:text-blue-400"><Icon name="pencil" size={14} /></button>
                                                <button onClick={() => setCategories(categories.filter(c => c.id !== cat.id))} className="p-2 text-slate-500 hover:text-red-500"><Icon name="trash-2" size={14} /></button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}

                    {isModalOpen && (
                        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay">
                            <div className="bg-slate-900 border border-slate-800 w-full max-w-md p-10 rounded-[2.5rem] shadow-2xl">
                                <h2 className="text-xl font-black uppercase italic text-blue-500 mb-10">{editingId ? 'Modify Node' : 'Initialize Node'}</h2>
                                <form onSubmit={handleSaveService} className="space-y-6">
                                    <input autoFocus type="text" className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-5 text-sm font-bold text-white outline-none" placeholder="Label" value={formData.name} onChange={(e) => setFormData({...formData, name: e.target.value})} />
                                    <div className="grid grid-cols-2 gap-4">
                                        <input type="text" className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-5 text-sm font-bold text-white outline-none" placeholder="Subdomain" value={formData.id} onChange={(e) => setFormData({...formData, id: e.target.value.toLowerCase()})} />
                                        <select className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-5 text-sm font-bold text-white outline-none" value={formData.cat} onChange={(e) => setFormData({...formData, cat: e.target.value})}>
                                            {categories.map(cat => <option key={cat.id} value={cat.id}>{cat.name}</option>)}
                                        </select>
                                    </div>
                                    <input type="text" className="w-full bg-slate-950 border border-slate-800 rounded-2xl p-5 text-sm font-bold text-white outline-none" placeholder="Protocol URL Override" value={formData.url} onChange={(e) => setFormData({...formData, url: e.target.value})} />
                                    <button type="submit" className="w-full bg-blue-600 py-6 text-white font-black uppercase text-[10px] rounded-3xl shadow-xl transition-all active:scale-95">Commit Changes</button>
                                </form>
                                <button onClick={resetForm} className="w-full mt-6 text-slate-600 text-[10px] font-black uppercase tracking-widest hover:text-white transition-colors">Abort</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
